port: 7890
socks-port: 7891
mode: rule
external-controller: 127.0.0.1:9090

dns:
  nameserver:
    - 223.5.5.5 # é»˜è®¤å€¼
    - 8.8.8.8 # é»˜è®¤å€¼
    - https://1.1.1.1/dns-query # DNS over HTTPS

proxy-groups:
  - name: "â™»ï¸ Auto"
    type: fallback
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
    proxies:
      - â™»ï¸ SubPolicy_Auto_US
      - â™»ï¸ SubPolicy_Auto_JP
      - ğŸ‡ºğŸ‡¸ Airport_US

  - name: "ğŸš€ Select"
    type: select
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
    use:
      - SubPolicy_Auto_US
      - SubPolicy_Auto_JP
      - Airport



  - name: "ğŸ¤– AIProxy"
    type: fallback
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
    proxies:
      - ğŸ¤– SubPolicy_AIProxy_US
      - ğŸ¤– SubPolicy_AIProxy_JP
      - ğŸ‡ºğŸ‡¸ Airport_US


  - name: "ğŸ¥ GlobalMedia"
    type: fallback
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
    proxies:
      - ğŸ‡¸ğŸ‡¬ Airport_SG
      - ğŸ‡¯ğŸ‡µ Airport_JP
      - ğŸ‡ºğŸ‡¸ Airport_US


  - name: "â™»ï¸ SubPolicy_Auto_US"
    type: url-test
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
    use:
      - SubPolicy_Auto_US


  - name: "â™»ï¸ SubPolicy_Auto_JP"
    type: url-test
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
    use:
      - SubPolicy_Auto_JP


  - name: "ğŸ¤– SubPolicy_AIProxy_US"
    type: url-test
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
    use:
      - SubPolicy_AIProxy_US

  - name: "ğŸ¤– SubPolicy_AIProxy_JP"
    type: url-test
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
    use:
      - SubPolicy_AIProxy_JP

  - name: "âœˆï¸ Airport"
    type: url-test
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
    use:
      - Airport

  - name: "ğŸ‡­ğŸ‡° Airport_HK"
    type: url-test
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
    filter: 'æ¸¯|HK|hk|Hong Kong|HongKong|hongkong'
    use:
      - Airport

  - name: "ğŸ‡ºğŸ‡¸ Airport_US"
    type: url-test
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
    filter: 'ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States'
    use:
      - Airport

  - name: "ğŸ‡¯ğŸ‡µ Airport_JP"
    type: url-test
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
    filter: 'æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|[^-]æ—¥|JP|Japan'
    use:
      - Airport

  - name: "ğŸ‡¸ğŸ‡¬ Airport_SG"
    type: url-test
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
    filter: 'æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore'
    use:
      - Airport

proxy-providers:
  Airport:
    type: http
    url: "$api/Airport"
    interval: 300
    path: ./proxy/airport.yaml
    health-check:
      enable: true
      lazy: true
      interval: 300
      url: http://www.gstatic.com/generate_204

  SubPolicy_Auto_US:
    type: http
    url: "$api/SubPolicy_Auto_US"
    interval: 300
    path: ./proxy/sub_policy-auto-us.yaml
    health-check:
      enable: true
      interval: 300
      lazy: true
      url: http://www.gstatic.com/generate_204

  SubPolicy_Auto_JP:
    type: http
    url: "$api/SubPolicy_Auto_JP"
    interval: 300
    path: ./proxy/sub_policy-auto-jp.yaml
    health-check:
      enable: true
      interval: 300
      lazy: true
      url: http://www.gstatic.com/generate_204

  SubPolicy_AIProxy_US:
    type: http
    url: "$api/SubPolicy_AIProxy_US"
    interval: 300
    path: ./proxy/sub_policy-aiproxy-us.yaml
    health-check:
      enable: true
      interval: 300
      lazy: true
      url: http://www.gstatic.com/generate_204

  SubPolicy_AIProxy_JP:
    type: http
    url: "$api/SubPolicy_AIProxy_JP"
    interval: 300
    path: ./proxy/sub_policy-aiproxy-jp.yaml
    health-check:
      enable: true
      interval: 300
      lazy: true
      url: http://www.gstatic.com/generate_204

rule-providers:
  local-area-network:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/jarieshan/proxy_rules@Release/Provider/Rule/Clash/Lan.yaml"
    path: ./ruleset/local-area-network.yaml
    interval: 86400
  wechat:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/jarieshan/proxy_rules@Release/Provider/Rule/Clash/WeChat.yaml"
    path: ./ruleset/wechat.yaml
    interval: 86400
  apple:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/jarieshan/proxy_rules@Release/Provider/Rule/Clash/AppleProxy.yaml"
    path: ./ruleset/apple.yaml
    interval: 86400
  openai:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/jarieshan/proxy_rules@Release/Provider/Rule/Clash/OpenAI.yaml"
    path: ./ruleset/openai.yaml
    interval: 86400
  bing:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/jarieshan/proxy_rules@Release/Provider/Rule/Clash/Bing.yaml"
    path: ./ruleset/bing.yaml
    interval: 86400
  copilot:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/jarieshan/proxy_rules@Release/Provider/Rule/Clash/Copilot.yaml"
    path: ./ruleset/copilot.yaml
    interval: 86400
  claude:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/jarieshan/proxy_rules@Release/Provider/Rule/Clash/Claude.yaml"
    path: ./ruleset/claude.yaml
    interval: 86400
  gemini:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/jarieshan/proxy_rules@Release/Provider/Rule/Clash/Gemini.yaml"
    path: ./ruleset/gemini.yaml
    interval: 86400
  netflix:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/jarieshan/proxy_rules@Release/Provider/Rule/Clash/Netflix.yaml"
    path: ./ruleset/netflix.yaml
    interval: 86400
  telegram:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/jarieshan/proxy_rules@Release/Provider/Rule/Clash/Telegram.yaml"
    path: ./ruleset/telegram.yaml
    interval: 86400
  twitter:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/jarieshan/proxy_rules@Release/Provider/Rule/Clash/Twitter.yaml"
    path: ./ruleset/twitter.yaml
    interval: 86400
  discord:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/jarieshan/proxy_rules@Release/Provider/Rule/Clash/Discord.yaml"
    path: ./ruleset/discord.yaml
    interval: 86400
  google:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/jarieshan/proxy_rules@Release/Provider/Rule/Clash/Google.yaml"
    path: ./ruleset/google.yaml
    interval: 86400
  cloudflare:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/jarieshan/proxy_rules@Release/Provider/Rule/Clash/Cloudflare.yaml"
    path: ./ruleset/cloudflare.yaml
    interval: 86400
  direct:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/jarieshan/proxy_rules@Release/Provider/Rule/Clash/Direct.yaml"
    path: ./ruleset/direct.yaml
    interval: 86400
  global-media:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/jarieshan/proxy_rules@Release/Provider/Rule/Clash/GlobalMedia_Classical.yaml"
    path: ./ruleset/global-media.yaml
    interval: 86400
  binance:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/jarieshan/proxy_rules@Release/Provider/Rule/Clash/Binance.yaml"
    path: ./ruleset/binance.yaml
    interval: 86400

rules:
  - RULE-SET,local-area-network,DIRECT
  - RULE-SET,wechat,DIRECT
  - RULE-SET,apple,DIRECT
  - RULE-SET,openai,ğŸ¤– AIProxy
  - RULE-SET,bing,ğŸ¤– AIProxy
  - RULE-SET,copilot,ğŸ¤– AIProxy
  - RULE-SET,claude,ğŸ¤– AIProxy
  - RULE-SET,gemini,ğŸ¤– AIProxy
  - RULE-SET,netflix,ğŸ¥ GlobalMedia
  - RULE-SET,telegram,â™»ï¸ Auto
  - RULE-SET,twitter,â™»ï¸ Auto
  - RULE-SET,discord,â™»ï¸ Auto
  - RULE-SET,google,â™»ï¸ Auto
  - RULE-SET,cloudflare,â™»ï¸ Auto
  - RULE-SET,direct,DIRECT
  - RULE-SET,binance,DIRECT
  - RULE-SET,global-media,ğŸ¥ GlobalMedia
  - DOMAIN-SUFFIX,nikkei.cn,â™»ï¸ Auto
  - DOMAIN-SUFFIX,longbridge.global,DIRECT
  - DOMAIN-SUFFIX,ibkr.com,DIRECT
  - DOMAIN-SUFFIX,bochk.com,DIRECT
  - GEOIP,CN,DIRECT
  - MATCH,â™»ï¸ Auto